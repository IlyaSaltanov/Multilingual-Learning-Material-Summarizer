<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multilingual Text Summarizer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            margin-bottom: 30px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 20px 30px;
        }
        
        .card-header h2 {
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-body {
            padding: 30px;
        }
        
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 20px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-family: inherit;
            font-size: 16px;
            line-height: 1.6;
            resize: vertical;
            transition: all 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .char-count {
            text-align: right;
            margin-top: 10px;
            color: #6b7280;
            font-size: 14px;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-weight: 600;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        select {
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        select:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .btn {
            padding: 16px 32px;
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(79, 70, 229, 0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }
        
        .btn-secondary {
            background: #6b7280;
        }
        
        .btn-secondary:hover {
            box-shadow: 0 10px 25px rgba(107, 114, 128, 0.3);
        }
        
        .btn-success {
            background: #10b981;
        }
        
        .btn-success:hover {
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4f46e5;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            padding: 25px;
            background: #f9fafb;
            border-radius: 12px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            display: block;
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: #111827;
        }
        
        .summary-box {
            padding: 25px;
            background: #f9fafb;
            border-radius: 12px;
            border-left: 4px solid #4f46e5;
            line-height: 1.8;
            font-size: 16px;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .sample-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .btn-sample {
            flex: 1;
            min-width: 150px;
            padding: 12px 20px;
            background: white;
            border: 2px solid #e5e7eb;
            color: #374151;
            border-radius: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-sample:hover {
            border-color: #4f46e5;
            color: #4f46e5;
            transform: translateY(-2px);
        }
        
        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            padding: 20px;
            opacity: 0.8;
        }
        
        .footer p {
            margin-bottom: 5px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .sample-buttons {
                flex-direction: column;
            }
            
            .btn-sample {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üåç Multilingual Text Summarizer</h1>
            <p>Summarize educational materials in English, Russian, and German</p>
        </header>
        
        <div class="card">
            <div class="card-header">
                <h2>üìù Enter Your Text</h2>
            </div>
            <div class="card-body">
                <textarea 
                    id="textInput" 
                    placeholder="Paste your text here (articles, lectures, notes)... 
                    
Minimum 50 characters, maximum 10,000 characters."
                ></textarea>
                <div class="char-count">
                    <span id="charCount">0</span> characters
                </div>
                
                <div class="sample-buttons">
                    <button class="btn-sample" onclick="loadSample('en')">
                        üá∫üá∏ English Sample
                    </button>
                    <button class="btn-sample" onclick="loadSample('ru')">
                        üá∑üá∫ Russian Sample
                    </button>
                    <button class="btn-sample" onclick="loadSample('de')">
                        üá©üá™ German Sample
                    </button>
                    <button class="btn-sample" onclick="clearText()">
                        üóëÔ∏è Clear Text
                    </button>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h2>‚öôÔ∏è Settings</h2>
            </div>
            <div class="card-body">
                <div class="controls">
                    <div class="control-group">
                        <label for="languageSelect">
                            üåê Language
                        </label>
                        <select id="languageSelect">
                            <option value="auto">Auto-detect</option>
                            <option value="en">English</option>
                            <option value="ru">Russian</option>
                            <option value="de">German</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="compressionSelect">
                            üìä Compression Level
                        </label>
                        <select id="compressionSelect">
                            <option value="20">20% (Very Short)</option>
                            <option value="30" selected>30% (Recommended)</option>
                            <option value="50">50% (Short)</option>
                        </select>
                    </div>
                    
                    <div class="control-group" style="justify-content: flex-end;">
                        <button 
                            id="summarizeBtn" 
                            class="btn"
                            onclick="summarizeText()"
                        >
                            üöÄ Generate Summary
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p style="color: #6b7280; margin-top: 10px;">
                Processing your text. This may take a moment...
            </p>
        </div>
        
        <div class="card" id="resultCard" style="display: none;">
            <div class="card-header">
                <h2>üìã Summary Results</h2>
            </div>
            <div class="card-body">
                <div class="stats" id="stats">
                    <!-- Stats will appear here -->
                </div>
                
                <h3 style="margin-bottom: 15px; color: #111827;">
                    üìù Generated Summary
                </h3>
                <div class="summary-box" id="summaryText">
                    <!-- Summary will appear here -->
                </div>
                
                <div style="display: flex; gap: 15px; margin-top: 25px;">
                    <button class="btn btn-secondary" onclick="copySummary()">
                        üìã Copy Summary
                    </button>
                    <button class="btn btn-success" onclick="downloadSummary()">
                        ‚¨áÔ∏è Download as TXT
                    </button>
                    <button class="btn" onclick="resetAll()">
                        üîÑ New Summary
                    </button>
                </div>
            </div>
        </div>
        
        <footer class="footer">
            <p>Multilingual Text Summarizer &copy; 2024</p>
            <p>Built with Flask & NLTK | Runs on your MacBook</p>
        </footer>
    </div>
    
    <script>
        // Sample texts
        const samples = {
            en: `Artificial Intelligence in Education

Artificial intelligence is revolutionizing the education sector by providing personalized learning experiences. AI algorithms can analyze student performance data to identify knowledge gaps and suggest targeted learning materials.

Key applications include:
1. Intelligent tutoring systems that adapt to individual learning styles
2. Automated grading and feedback for assignments
3. Predictive analytics to identify at-risk students
4. Natural language processing for language learning

Studies show that AI-enhanced learning platforms can improve student engagement by 30-40% and learning outcomes by 20-25%. However, successful implementation requires careful consideration of data privacy and ethical concerns.

The future of AI in education lies in hybrid models where teachers collaborate with AI systems to provide the best possible learning experience for each student.`,

            ru: `–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –≤ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏

–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Å–µ–∫—Ç–æ—Ä, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—á–µ–±–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ò–ò –º–æ–≥—É—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –∑–Ω–∞–Ω–∏—è—Ö –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.

–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤–∫–ª—é—á–∞—é—Ç:
1. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –æ–±—É—á–µ–Ω–∏—è, –∞–¥–∞–ø—Ç–∏—Ä—É—é—â–∏–µ—Å—è –∫ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º —Å—Ç–∏–ª—è–º –æ–±—É—á–µ–Ω–∏—è
2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ—Ü–µ–Ω–∫—É –∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø–æ –∑–∞–¥–∞–Ω–∏—è–º
3. –ü—Ä–æ–≥–Ω–æ–∑–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã —Ä–∏—Å–∫–∞
4. –û–±—Ä–∞–±–æ—Ç–∫—É –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤

–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ–±—É—á–µ–Ω–∏—è, —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –ò–ò, –º–æ–≥—É—Ç –ø–æ–≤—ã—Å–∏—Ç—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ 30-40% –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è –Ω–∞ 20-25%. –û–¥–Ω–∞–∫–æ —É—Å–ø–µ—à–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —ç—Ç–∏—á–µ—Å–∫–∏—Ö –∞—Å–ø–µ–∫—Ç–æ–≤.

–ë—É–¥—É—â–µ–µ –ò–ò –≤ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –≥–∏–±—Ä–∏–¥–Ω—ã—Ö –º–æ–¥–µ–ª—è—Ö, –≥–¥–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞—é—Ç —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –ò–ò –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞–∏–ª—É—á—à–µ–≥–æ —É—á–µ–±–Ω–æ–≥–æ –æ–ø—ã—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞.`,

            de: `K√ºnstliche Intelligenz in der Bildung

K√ºnstliche Intelligenz revolutioniert den Bildungssektor durch die Bereitstellung personalisierter Lernerfahrungen. KI-Algorithmen k√∂nnen Leistungsdaten von Sch√ºlern analysieren, um Wissensl√ºcken zu identifizieren und gezielte Lernmaterialien vorzuschlagen.

Zu den wichtigsten Anwendungen geh√∂ren:
1. Intelligente Tutorensysteme, die sich an individuelle Lernstile anpassen
2. Automatisierte Bewertung und R√ºckmeldung zu Aufgaben
3. Pr√§diktive Analysen zur Identifizierung von Risikosch√ºlern
4. Verarbeitung nat√ºrlicher Sprache f√ºr den Spracherwerb

Studien zeigen, dass KI-verbesserte Lernplattformen die Sch√ºlerbeteiligung um 30-40% und die Lernergebnisse um 20-25% verbessern k√∂nnen. Eine erfolgreiche Implementierung erfordert jedoch eine sorgf√§ltige Ber√ºcksichtigung von Datenschutz und ethischen Bedenken.

Die Zukunft der KI in der Bildung liegt in hybriden Modellen, bei denen Lehrer mit KI-Systemen zusammenarbeiten, um jedem Sch√ºler die bestm√∂gliche Lernerfahrung zu bieten.`
        };

        // Update character count
        document.getElementById('textInput').addEventListener('input', function() {
            const count = this.value.length;
            document.getElementById('charCount').textContent = count;
            document.getElementById('summarizeBtn').disabled = count < 50;
            
            // Visual feedback
            if (count < 50) {
                this.style.borderColor = '#ef4444';
            } else {
                this.style.borderColor = '#e5e7eb';
            }
        });

        // Load sample text
        function loadSample(lang) {
            document.getElementById('textInput').value = samples[lang];
            document.getElementById('languageSelect').value = lang;
            document.getElementById('textInput').dispatchEvent(new Event('input'));
            showToast(`Loaded ${lang.toUpperCase()} sample text`);
        }

        // Clear text
        function clearText() {
            document.getElementById('textInput').value = '';
            document.getElementById('textInput').dispatchEvent(new Event('input'));
            showToast('Text cleared');
        }

        // Reset all
        function resetAll() {
            clearText();
            document.getElementById('resultCard').style.display = 'none';
            document.getElementById('languageSelect').value = 'auto';
            document.getElementById('compressionSelect').value = '30';
            showToast('Ready for new summary');
        }

        // Show toast notification
        function showToast(message) {
            // Create toast element
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 12px 24px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            // Remove after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Main summarization function
        async function summarizeText() {
            const text = document.getElementById('textInput').value.trim();
            const language = document.getElementById('languageSelect').value;
            const compression = document.getElementById('compressionSelect').value;
            
            if (text.length < 50) {
                showToast('Please enter at least 50 characters');
                return;
            }
            
            // Show loading
            document.getElementById('loading').classList.add('active');
            document.getElementById('summarizeBtn').disabled = true;
            
            try {
                const response = await fetch('/summarize', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        text: text,
                        language: language,
                        compression: parseInt(compression)
                    })
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    // Update statistics
                    document.getElementById('stats').innerHTML = `
                        <div class="stat-item">
                            <span class="stat-label">Language</span>
                            <span class="stat-value">${data.language_name}</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Confidence</span>
                            <span class="stat-value">${Math.round(data.confidence * 100)}%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Original</span>
                            <span class="stat-value">${data.original_length} words</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Summary</span>
                            <span class="stat-value">${data.summary_length} words</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Compression</span>
                            <span class="stat-value">${data.compression}%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Reduction</span>
                            <span class="stat-value">${data.reduction}%</span>
                        </div>
                    `;
                    
                    // Update summary text
                    document.getElementById('summaryText').textContent = data.summary;
                    
                    // Show result card
                    document.getElementById('resultCard').style.display = 'block';
                    
                    // Scroll to results
                    document.getElementById('resultCard').scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    
                    showToast('Summary generated successfully!');
                } else {
                    showToast('Error: ' + (data.error || 'Unknown error'));
                }
            } catch (error) {
                showToast('Error: ' + error.message);
            } finally {
                // Hide loading
                document.getElementById('loading').classList.remove('active');
                document.getElementById('summarizeBtn').disabled = false;
            }
        }

        // Copy summary to clipboard
        async function copySummary() {
            const summary = document.getElementById('summaryText').textContent;
            try {
                await navigator.clipboard.writeText(summary);
                showToast('Summary copied to clipboard!');
            } catch (err) {
                showToast('Failed to copy: ' + err);
            }
        }

        // Download summary as text file
        function downloadSummary() {
            const summary = document.getElementById('summaryText').textContent;
            const blob = new Blob([summary], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `summary_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showToast('Summary downloaded!');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial state
            document.getElementById('textInput').dispatchEvent(new Event('input'));
            
            // Load English sample by default
            setTimeout(() => loadSample('en'), 500);
            
            // Add keyboard shortcut (Cmd/Ctrl + Enter)
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    if (!document.getElementById('summarizeBtn').disabled) {
                        summarizeText();
                    }
                }
            });
        });
    </script>
</body>
</html>